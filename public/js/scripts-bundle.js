$(document).ready(function(){function t(t,e){var n=$("#permian-chart").width(),a=750,i=d3.scale.linear().domain([0,d3.max(t,function(t){return t.dollars})]).range([0,n]),o=d3.scale.ordinal().domain(d3.range(t.length)).rangeRoundBands([0,a],.6),d=d3.select(e).append("svg").attr("width",n).attr("height",a).attr("id","chart");d.selectAll("rect").data(t).enter().append("rect").attr("x",function(t){return i(0)}).attr("y",function(t,e){return o(e)+3}).attr("width",function(t){return i(t.dollars)}).attr("height",o.rangeBand()).attr("class",function(t){return"permian"===t.shell?"permian-bar":"bakken-bar"}),d.selectAll("text").data(t).enter().append("text").text(function(t){return t.name+" | "+r(t.dollars)}).attr("x",function(t){return i(.5)}).attr("y",function(t,e){return o(e)}).attr("class","labels")}function e(){videoWidth=i.width(),videoHeight=.5625*videoWidth,i.css("height",videoHeight)}var n=[],a=[],r=($(window).width(),d3.format("$,.2f"));$.getJSON("js/data.json",function(e){a=e,t(a,"#permian-chart")}),$(window).resize(function(){setTimeout(function(){chartWidth=$("#permian-chart").width(),$("#chart").remove(),t(a,"#permian-chart")},250)}),console.log(n),$(window).scroll(function(){var t=$(this).scrollTop();t>=$("#contentHeader").height()?$("#nav").fadeIn().addClass("fixed"):$("#nav").fadeOut(0).removeClass("fixed"),n=[],$.each($(".story"),function(){$(this).offset().top<$(window).scrollTop()+$(window).height()/4&&n.push($(this))});var e=n.length-1;console.log(e),$(".nav-bar ul li").removeClass("active"),$(".nav-bar ul li").eq(e).addClass("active")}),$(function(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length+100?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html, body").animate({scrollTop:t.offset().top},1e3),!1}})});var i="";$(".ndn_embed")&&(i=$(".ndn_embed"),e()),$(window).resize(function(){e()});var o=new Date,d=o.getFullYear();$(".copyright").text(d)});
//# sourceMappingURL=scripts-bundle.js.map
