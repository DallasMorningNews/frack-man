$(document).ready(function(){function t(t,e){var n=$("#permian-chart").width(),a=800,r=d3.scale.linear().domain([0,d3.max(t,function(t){return t.dollars})]).range([0,n]),i=d3.scale.ordinal().domain(d3.range(t.length)).rangeRoundBands([0,a],.6),o=d3.select(e).append("svg").attr("width",n).attr("height",a).attr("id","chart1");o.selectAll("rect").data(t).enter().append("rect").attr("x",function(t){return r(0)}).attr("y",function(t,e){return i(e)+3}).attr("width",function(t){return r(t.dollars)}).attr("height",i.rangeBand()).attr("class",function(t){return"permian"===t.shell?"permian-bar":"bakken-bar"}),o.selectAll("text").data(t).enter().append("text").text(function(t){return t.name+" | "+l(t.dollars)}).attr("x",function(t){return r(0)}).attr("y",function(t,e){return i(e)-3}).attr("class","labels")}function e(t,e){var n=$("#media-chart").width(),a=400,r=d3.scale.ordinal().domain(d3.range(t.length)).rangeRoundBands([0,n],.25),i=d3.scale.linear().domain([0,d3.max(t,function(t){return t.dollars})]).range([0,a-50]),o=d3.select(e).append("svg").attr("width",n).attr("height",a).attr("id","chart2");o.selectAll("rect").data(t).enter().append("rect").attr("x",function(t,e){return r(e)}).attr("y",function(t){return a-i(t.dollars)-20}).attr("height",function(t){return i(t.dollars)}).attr("width",r.rangeBand()).attr("class","permian-bar"),o.selectAll(".years").data(t).enter().append("text").text(function(t){return t.name}).attr("x",function(t,e){return r(e)+r.rangeBand()/2}).attr("y",function(t){return a-i(.5)}).attr("text-anchor","middle").attr("class","years"),o.selectAll(".totals").data(t).enter().append("text").text(function(t){return s(t.dollars)}).attr("x",function(t,e){return r(e)+r.rangeBand()/2}).attr("y",function(t){return a-i(t.dollars)-30}).attr("text-anchor","middle").attr("class","totals")}function n(){videoWidth=h.width(),videoHeight=.5625*videoWidth,h.css("height",videoHeight)}var a=[],r=$(window).width(),i=0,o=["#section2","#section3","#section4","#section5"],c=[],l=d3.format("$,.2f"),d=[],s=d3.format("$,");$(window).scroll(function(){var t=$(this).scrollTop();t>$(".intro-end").offset().top+$(".intro-end").height()?$("#nav").fadeIn().addClass("fixed"):$("#nav").fadeOut(0).removeClass("fixed"),a=[],$.each($(".story"),function(){$(this).offset().top<$(window).scrollTop()+$(window).height()/4&&a.push($(this))});var e=a.length-1;i=e,$(".nav-bar ul li").removeClass("active"),$(".nav-bar ul li").eq(e).addClass("active"),0===i?$(".fa-chevron-left").hide():i===o.length-1?$(".fa-chevron-right").hide():$(".fa-chevron-left, .fa-chevron-right").show()}),$(".fa-chevron-left").click(function(){i>0&&(i--,$("html, body").animate({scrollTop:$(o[i]).offset().top-70},2e3))}),$(".fa-chevron-right").click(function(){i<o.length-1&&(i++,$("html, body").animate({scrollTop:$(o[i]).offset().top-70},2e3))}),$(".fa-chevron-circle-down").click(function(){r<950&&$(".nav-bar").find(".nav-bar-expand").slideToggle()}),$(".nav-bar-expand ul a li, .fa-times-circle").click(function(){$(".nav-bar-expand").slideToggle()}),$(function(){$(".nav-bar a, .nav-bar-expand a").click(function(){$(this).index();if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length+100?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html, body").animate({scrollTop:t.offset().top-70},1e3),!1}})}),$(".scrollDown").click(function(t){t.preventDefault();var e=$(this).parent("a").attr("href");$("html, body").animate({scrollTop:$(e).offset().top-200},1e3)}),$.getJSON("js/breakeven.json",function(e){c=e,t(c,"#permian-chart")}),$.getJSON("js/media.json",function(t){d=t,e(d,"#media-chart")}),$(window).resize(function(){setTimeout(function(){chartWidth=$("#permian-chart").width(),$("#chart1, #chart2").remove(),t(c,"#permian-chart"),e(d,"#media-chart")},250)});var h="";$(".ndn_embed")&&(h=$(".ndn_embed"),n()),$(window).resize(function(){n()});var f=new Date,u=f.getFullYear();$(".copyright").text(u)});
//# sourceMappingURL=scripts-bundle.js.map
