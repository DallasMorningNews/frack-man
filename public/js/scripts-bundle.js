$(document).ready(function(){function t(t,e){var n=$("#permian-chart").width(),a=750,r=d3.scale.linear().domain([0,d3.max(t,function(t){return t.dollars})]).range([0,n]),o=d3.scale.ordinal().domain(d3.range(t.length)).rangeRoundBands([0,a],.6),c=d3.select(e).append("svg").attr("width",n).attr("height",a).attr("id","chart");c.selectAll("rect").data(t).enter().append("rect").attr("x",function(t){return r(0)}).attr("y",function(t,e){return o(e)+3}).attr("width",function(t){return r(t.dollars)}).attr("height",o.rangeBand()).attr("class",function(t){return"permian"===t.shell?"permian-bar":"bakken-bar"}),c.selectAll("text").data(t).enter().append("text").text(function(t){return t.name+" | "+i(t.dollars)}).attr("x",function(t){return r(.5)}).attr("y",function(t,e){return o(e)}).attr("class","labels")}function e(){videoWidth=h.width(),videoHeight=.5625*videoWidth,h.css("height",videoHeight)}var n=[],a=[],r=$(window).width(),i=d3.format("$,.2f"),o=0,c=["#story1","#section2","#section3","#section4"];$.getJSON("js/data.json",function(e){a=e,t(a,"#permian-chart")}),$(window).resize(function(){setTimeout(function(){chartWidth=$("#permian-chart").width(),$("#chart").remove(),t(a,"#permian-chart")},250)}),$(window).scroll(function(){var t=$(this).scrollTop();t>=$("#contentHeader").height()?$("#nav").fadeIn().addClass("fixed"):$("#nav").fadeOut(0).removeClass("fixed"),n=[],$.each($(".story"),function(){$(this).offset().top<$(window).scrollTop()+$(window).height()/4&&n.push($(this))});var e=n.length-1;o=e,$(".nav-bar ul li").removeClass("active"),$(".nav-bar ul li").eq(e).addClass("active"),0===o?$(".fa-chevron-left").hide():o===c.length-1?$(".fa-chevron-right").hide():$(".fa-chevron-left, .fa-chevron-right").show()}),$(".fa-chevron-left").click(function(){o>0&&(o--,$("html, body").animate({scrollTop:$(c[o]).offset().top},2e3))}),$(".fa-chevron-right").click(function(){o<c.length-1&&(o++,$("html, body").animate({scrollTop:$(c[o]).offset().top},2e3))}),$(".fa-chevron-circle-down").click(function(){r<950&&$(".nav-bar").find(".nav-bar-expand").slideToggle()}),$(window).resize(function(){setTimeout(function(){chartWidth=$("#permian-chart").width(),$("#chart").remove(),t(a,"#permian-chart")},250)}),$(function(){$('a[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=$(this.hash);if(t=t.length+100?t:$("[name="+this.hash.slice(1)+"]"),t.length)return $("html, body").animate({scrollTop:t.offset().top},1e3),!1}})});var h="";$(".ndn_embed")&&(h=$(".ndn_embed"),e()),$(window).resize(function(){e()});var l=new Date,d=l.getFullYear();$(".copyright").text(d)});
//# sourceMappingURL=scripts-bundle.js.map
