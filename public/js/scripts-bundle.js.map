{"version":3,"sources":["+custom.js"],"names":["$","document","ready","drawChart","data","targetDiv","w","width","h","xScale","d3","scale","linear","domain","max","d","dollars","range","yScale","ordinal","length","rangeRoundBands","svg","select","append","attr","selectAll","enter","i","rangeBand","shell","text","name","decFormat","drawChart2","comFormat","scaleVideo","videoWidth","$videoWrapper","videoHeight","css","stories","windowWidth","window","counter","sectionHeads","breakeven","format","media","scroll","distanceFromTop","this","scrollTop","height","fadeIn","addClass","fadeOut","removeClass","each","offset","top","push","target","eq","hide","show","click","animate","find","slideToggle","a","index","location","pathname","replace","hostname","hash","slice","getJSON","resize","setTimeout","chartWidth","remove","Date","year","getFullYear"],"mappings":"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","file":"scripts-bundle.js","sourcesContent":["$(document).ready(function() {\n\n\t//custom scripting goes here\n\n\tvar stories = [];\n\tvar windowWidth = $(window).width();\n\tvar counter = 0;\n\tvar sectionHeads = [\"#story1\", \"#section2\", \"#section3\", \"#section4\"];\n\n\n\t// all chart variables\n\n\n\n\t// breakeven chart variables\n\tvar breakeven = [];\n\tvar decFormat = d3.format(\"$,.2f\");\n\n\n\t// media chart variables\n\tvar media = [];\n\tvar comFormat = d3.format(\"$,\");\n\n\n\n\n\n\n\n\t// Scroll function for nav bar\n\n\t$(window).scroll(function() {\n\t\tvar distanceFromTop = $(this).scrollTop();\n\t\tif (distanceFromTop >= $('#contentHeader').height() - 100) {\n\t\t\t$('#nav').fadeIn().addClass('fixed');\n\t\t} else {\n\t\t\t$('#nav').fadeOut(0).removeClass('fixed');\n\t\t}\n\n\t\tstories = [];\n\t\t$.each($(\".story\"), function() {\n\n\t\t\tif ($(this).offset().top < $(window).scrollTop() + ($(window).height() / 4)) {\n\t\t\t\tstories.push($(this));\n\t\t\t}\n\n\t\t});\n\t\tvar target = stories.length - 1;\n\t\tcounter = target;\n\n\t\t$(\".nav-bar ul li\").removeClass(\"active\");\n\t\t$(\".nav-bar ul li\").eq(target).addClass(\"active\");\n\n\t\tif (counter === 0) {\n\t\t\t$('.fa-chevron-left').hide();\n\t\t} else if (counter === sectionHeads.length - 1) {\n\t\t\t$('.fa-chevron-right').hide();\n\t\t} else {\n\t\t\t$('.fa-chevron-left, .fa-chevron-right').show();\n\t\t}\n\n\t});\n\n\t$('.fa-chevron-left').click(function() {\n\t\tif (counter > 0) {\n\t\t\tcounter --;\n\t\t\t$('html, body').animate({\n\t\t\t\tscrollTop: $(sectionHeads[counter]).offset().top - 70\n\t\t\t}, 2000);\n\t\t}\n\t});\n\n\t$('.fa-chevron-right').click(function() {\n\t\tif (counter < sectionHeads.length - 1) {\n\t\t\tcounter ++;\n\t\t\t$('html, body').animate({\n\t\t\t\tscrollTop: $(sectionHeads[counter]).offset().top - 70\n\t\t\t}, 2000);\n\t\t}\n\t});\n\n\n    $('.fa-chevron-circle-down').click(function() {\n        if (windowWidth < 950) {\n\t\t\t$('.nav-bar').find('.nav-bar-expand').slideToggle();\n\t\t}\n    });\n\n\t$('.nav-bar-expand ul a li, .fa-times-circle').click(function() {\n\t\t$('.nav-bar-expand').slideToggle();\n\t});\n\n\n\n\n\n\n\n\n\n\n\n\t// Scroll animation\n\n\t $(function() {\n\t  $('.nav-bar a, .nav-bar-expand a').click(function() {\n\t\tvar a = $(this).index();\n\t    if (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\n\t      var target = $(this.hash);\n\t      target = (target.length + 100) ? target : $('[name=' + this.hash.slice(1) +']');\n\t      if (target.length && a !== 0) {\n\t        $('html, body').animate({\n\t          scrollTop: target.offset().top - 70\n\t        }, 1000);\n\t        return false;\n\t\t} else {\n\t\t\t$('html, body').animate({\n\t\t\t  scrollTop: target.offset().top - 150\n\t\t\t}, 1000);\n\t\t\treturn false;\n\t\t}\n\t    }\n\t  });\n\t});\n\n\t$(function() {\n\t $('.scrollDown a').click(function() {\n\t   if (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\n\t\t var target = $(this.hash);\n\t\t target = (target.length + 100) ? target : $('[name=' + this.hash.slice(1) +']');\n\t\t if (target.length) {\n\t\t   $('html, body').animate({\n\t\t\t scrollTop: target.offset().top - 200\n\t\t   }, 1000);\n\t\t   return false;\n\t\t }\n\t   }\n\t });\n   });\n\n\n\n\n\n\n\n\n\n\n\t// Breakeven D3 bar graph\n\n\t$.getJSON(\"js/breakeven.json\", function(data) {\n\t\tbreakeven = data;\n\t\tdrawChart(breakeven, \"#permian-chart\");\n\t});\n\n\tfunction drawChart(data, targetDiv) {\n\n\n\t\tvar w = $(\"#permian-chart\").width(),\n\t\t \th = 750;\n\n\t\tvar xScale = d3.scale.linear()\n\t\t\t\t\t\t.domain([0, d3.max(data, function (d) {\n\t\t\t\t\t\t\treturn d.dollars;\n\t\t\t\t\t\t})])\n\t\t\t\t\t\t.range([0, w]);\n\n\t \tvar yScale = d3.scale.ordinal()\n\t\t\t\t\t\t.domain(d3.range(data.length))\n\t\t\t\t\t\t.rangeRoundBands([0, h], 0.6);\n\n\t\tvar svg = d3.select(targetDiv)\n\t\t\t\t\t.append(\"svg\")\n\t\t\t\t\t.attr(\"width\", w)\n\t\t\t\t\t.attr(\"height\", h)\n\t\t\t\t\t.attr(\"id\", \"chart1\");\n\n\n\n\n\t\tsvg.selectAll(\"rect\")\n\t\t\t.data(data)\n\t\t\t.enter()\n\t\t\t.append(\"rect\")\n\t\t\t.attr(\"x\", function(d) {\n\t\t\t\treturn xScale(0);\n\t\t\t})\n\t\t\t.attr(\"y\", function(d, i) {\n\t\t\t\treturn yScale(i) + 3;\n\t\t\t})\n\t\t\t.attr(\"width\", function(d) {\n\t\t\t\treturn xScale(d.dollars);\n\t\t\t})\n\t\t\t.attr(\"height\", yScale.rangeBand())\n\t\t\t.attr(\"class\", function(d) {\n\t\t\t\tif (d.shell === \"permian\") {\n\t\t\t\t\treturn \"permian-bar\";\n\t\t\t\t} else {\n\t\t\t\t\treturn \"bakken-bar\";\n\t\t\t\t}\n\t\t\t});\n\n\n\t\tsvg.selectAll(\"text\")\n\t\t\t.data(data)\n\t\t\t.enter()\n\t\t\t.append(\"text\")\n\t\t\t.text(function(d) {\n\t\t\t\treturn d.name + \" | \" + decFormat(d.dollars);\n\t\t\t})\n\t\t\t.attr(\"x\", function(d) {\n\t\t\t\treturn xScale(0);\n\t\t\t})\n\t\t\t// .attr(\"y\", function(d, i) {\n\t\t\t// \tif (windowWidth > 650) {\n\t\t\t// \t\treturn yScale(i) + 17;\n\t\t\t// \t} else {\n\t\t\t// \t\treturn yScale(i);\n\t\t\t// \t}\n\t\t\t// })\n\t\t\t.attr(\"y\", function(d, i) {\n\t\t\t\treturn yScale(i);\n\t\t\t})\n\t\t\t.attr(\"class\", \"labels\");\n\n\t}\n\n\n\n\n\t// media d3 chart\n\n\t$.getJSON(\"js/media.json\", function(data) {\n\t\tmedia = data;\n\t\tdrawChart2(media, \"#media-chart\");\n\t});\n\n\n\tfunction drawChart2(data, targetDiv) {\n\n\n\t\tvar w = $(\"#media-chart\").width(),\n\t\t \th = 400;\n\n\n\t\tvar xScale = d3.scale.ordinal()\n\t\t\t\t\t\t.domain(d3.range(data.length))\n\t\t\t\t\t\t.rangeRoundBands([0, w], 0.25);\n\n\t\tvar yScale = d3.scale.linear()\n\t\t\t\t\t\t.domain([0, d3.max(data, function (d) {\n\t\t\t\t\t\t\treturn d.dollars;\n\t\t\t\t\t\t})])\n\t\t\t\t\t\t.range([0, (h - 50)]);\n\n\t\tvar svg = d3.select(targetDiv)\n\t\t\t\t\t.append(\"svg\")\n\t\t\t\t\t.attr(\"width\", w)\n\t\t\t\t\t.attr(\"height\", h)\n\t\t\t\t\t.attr(\"id\", \"chart2\");\n\n\n\n\n\t\tsvg.selectAll(\"rect\")\n\t\t\t.data(data)\n\t\t\t.enter()\n\t\t\t.append(\"rect\")\n\t\t\t.attr(\"x\", function(d, i) {\n\t\t\t\treturn xScale(i);\n\t\t\t})\n\t\t\t.attr(\"y\", function(d) {\n\t\t\t\treturn h - yScale(d.dollars) - 20;\n\t\t\t})\n\t\t\t.attr(\"height\", function(d) {\n\t\t\t\treturn yScale(d.dollars);\n\t\t\t})\n\t\t\t.attr(\"width\", xScale.rangeBand())\n\t\t\t.attr(\"class\", \"permian-bar\");\n\n\n\t\tsvg.selectAll(\".years\")\n\t\t\t.data(data)\n\t\t\t.enter()\n\t\t\t.append(\"text\")\n\t\t\t.text(function(d) {\n\t\t\t\treturn d.name;\n\t\t\t})\n\t\t\t.attr(\"x\", function(d, i) {\n\t\t\t\treturn xScale(i) + xScale.rangeBand() / 2;\n\t\t\t})\n\t\t\t.attr(\"y\", function(d) {\n\t\t\t\treturn h - yScale(0.5);\n\t\t\t})\n\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t.attr(\"class\", \"years\");\n\n\n\t\tsvg.selectAll(\".totals\")\n\t\t\t.data(data)\n\t\t\t.enter()\n\t\t\t.append(\"text\")\n\t\t\t.text(function(d) {\n\t\t\t\treturn comFormat(d.dollars);\n\t\t\t})\n\t\t\t.attr(\"x\", function(d, i) {\n\t\t\t\treturn xScale(i) + xScale.rangeBand() / 2;\n\t\t\t})\n\t\t\t.attr(\"y\", function(d) {\n\t\t\t\treturn h - yScale(d.dollars) - 30;\n\t\t\t})\n\t\t\t.attr(\"text-anchor\", \"middle\")\n\t\t\t.attr(\"class\", \"totals\");\n\n\t}\n\n\n\tfunction wrap(text, width) {\n\t  text.each(function() {\n\t    var text = d3.select(this),\n\t        words = text.text().split(/\\s+/).reverse(),\n\t        word,\n\t        line = [],\n\t        lineNumber = 0,\n\t        lineHeight = 1.1, // ems\n\t        y = text.attr(\"y\"),\n\t        dy = parseFloat(text.attr(\"dy\")),\n\t        tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\");\n\t    while (word === words.pop()) {\n\t      line.push(word);\n\t      tspan.text(line.join(\" \"));\n\t      if (tspan.node().getComputedTextLength() > width) {\n\t        line.pop();\n\t        tspan.text(line.join(\" \"));\n\t        line = [word];\n\t        tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\").text(word);\n\t      }\n\t    }\n\t  });\n\t}\n\n\n\n\n\n\t$(window).resize(function() {\n\n\t\tsetTimeout(function(){\n\t\t\tchartWidth = $(\"#permian-chart\").width();\n\t\t\t$(\"#chart1, #chart2\").remove();\n\t\t\tdrawChart(breakeven, \"#permian-chart\");\n\t\t\tdrawChart2(media, \"#media-chart\");\n\t\t}, 250);\n\n\t});\n\n\n\n\n\n\t// videos\n\n\tvar $videoWrapper = '';\n\n    if ($('.ndn_embed')) {\n        $videoWrapper = $('.ndn_embed');\n        scaleVideo();\n    }\n\n        function scaleVideo() {\n\n            videoWidth = $videoWrapper.width(); //grabs the width of the video player\n            videoHeight = videoWidth * 0.5625; //sets a variable equal to 56.25% of the width (the correct aspect ratio for the videos)\n\n            $videoWrapper.css('height', videoHeight); //assings that height variable as the player's height in the css\n        }\n\n\n    $(window).resize(function() {\n        scaleVideo(); //runs the video aspect resizer when the width of the browser is changed\n    });\n\n\n\n\n\n\n\n\t// injecting current year into footer\n\t// DO NOT DELETE\n\n\tvar d = new Date();\n\tvar year = d.getFullYear();\n\n\t$('.copyright').text(year);\n\n\n\t// some code blocks require javascript to function, like slideshows, synopsis blocks, etc\n\t// you can find that code here: https://github.com/DallasMorningNews/generator-dmninteractives/wiki/Cookbook\n\n\n\n});\n"],"sourceRoot":"/source/"}